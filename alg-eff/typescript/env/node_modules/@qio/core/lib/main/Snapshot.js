"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Snapshot = void 0;
const debug_1 = require("debug");
const QIO_1 = require("./QIO");
const D = debug_1.debug('qio:snapshot');
class Snapshot {
    constructor() {
        this.timelineData = new Array();
    }
    get timeline() {
        return this.timelineData.map((_) => _.join('@'));
    }
    mark(value) {
        return QIO_1.QIO.runtime().chain((RTM) => QIO_1.QIO.lift(() => {
            D('mark %O', value);
            this.timelineData.push([value, RTM.scheduler.now()]);
        }).const(value));
    }
}
exports.Snapshot = Snapshot;
